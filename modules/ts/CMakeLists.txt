if(BUILD_SHARED_LIBS)
    add_definitions(-DGTEST_CREATE_SHARED_LIBRARY=1)
    if (MSVC)
        add_definitions( "/wd4251 /wd4275")
    endif()
else()
    add_definitions(-DGTEST_CREATE_SHARED_LIBRARY=0)
endif()

if(MINGW)
    define_opencv_moduleEx(ts PUBLIC STATIC opencv_core)
else()
    define_opencv_module(ts opencv_core)
endif()
